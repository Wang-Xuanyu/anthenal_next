import{j as t}from"./Cruise-aty_JPz5.js";import{r as f}from"./Home-BIuv2R_P.js";function j({onSwipeUp:e,onSwipeDown:s,onSwipeLeft:n,onSwipeRight:o,className:a,children:r,threshold:l=30}){const h=f.useRef(0),m=f.useRef(0),p=i=>{const c=i.touches[0];h.current=c.clientX,m.current=c.clientY},x=i=>{const c=i.changedTouches[0],u=c.clientX-h.current,d=c.clientY-m.current,b=Math.abs(u),g=Math.abs(d);Math.max(b,g)<l||(b>g?u>0&&o?o():u<0&&n&&n():d>0&&s?s():d<0&&e&&e())};return t.jsx("div",{className:`w-full touch-none select-none ${a}`,onTouchStart:p,onTouchEnd:x,children:r})}function v({imageUrl:e,overlayColor:s="rgba(0, 0, 0, 0.95)",children:n,className:o="w-full h-full"}){return t.jsxs("div",{className:` bg-cover bg-center ${o}`,style:{backgroundImage:`url(${e})`},children:[t.jsx("div",{className:"absolute inset-0",style:{backgroundColor:s}}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n})]})}function y({ctx:e}){const[s,n]=f.useState(!1),a=e.book.dialogs.find(r=>{if(e.audio.current.currentTime<=r.start[1])return!0}).id;return t.jsx("div",{onClick:async()=>{if(e.audio.current.paused){e.audio.current.play();return}e.audio.current.pause()},className:"cursor-pointer",children:t.jsx(j,{onSwipeDown:()=>{e.audio.current.currentTime-=5},onSwipeup:()=>{console.log("right")},className:"fixed inset-0 overscroll-contain",children:t.jsx(v,{imageUrl:e.book.coverSrc,className:"fixed inset-0  text-white",children:t.jsx("div",{className:"flex flex-col space-y-2 place-items-center place-content-center",children:e.book.dialogs.slice(Math.max(0,a-2),Math.min(e.book.dialogs.length-1,a+4)).map((r,l)=>t.jsx("div",{className:`${r.id==a?"underline":""} text-2xl`,children:r.title},l))})})})})}const T=Object.freeze(Object.defineProperty({__proto__:null,default:y},Symbol.toStringTag,{value:"Module"}));export{j as S,T as a};
