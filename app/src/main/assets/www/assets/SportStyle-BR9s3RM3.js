import{j as r}from"./Book-BHBIjhU_.js";import{r as i}from"./Cruise-DzVonqGh.js";function j({onSwipeUp:e,onSwipeDown:c,onSwipeLeft:t,onSwipeRight:s,children:n,threshold:g=30}){const d=i.useRef(0),f=i.useRef(0),b=a=>{const o=a.touches[0];d.current=o.clientX,f.current=o.clientY},x=a=>{const o=a.changedTouches[0],l=o.clientX-d.current,u=o.clientY-f.current,h=Math.abs(l),m=Math.abs(u);Math.max(h,m)<g||(h>m?l>0&&s?s():l<0&&t&&t():u>0&&c?c():u<0&&e&&e())};return r.jsx("div",{className:"w-full h-full touch-none select-none",onTouchStart:b,onTouchEnd:x,children:n})}function p({imageUrl:e,overlayColor:c="rgba(0, 0, 0, 0.95)",children:t,className:s="w-full h-full"}){return r.jsxs("div",{className:` bg-cover bg-center ${s}`,style:{backgroundImage:`url(${e})`},children:[r.jsx("div",{className:"absolute inset-0",style:{backgroundColor:c}}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t})]})}function N({ctx:e}){const[c,t]=i.useState(!1);let s=e.book.dialogs.find(n=>{if(e.audio.current.currentTime<=n.start[1])return!0});return r.jsx("div",{onTouchStart:()=>{t(n=>!n)},onClick:async()=>{e.audio.current[e.audio.current.paused?"play":"pause"](),t(n=>!n)},className:"cursor-pointer",children:r.jsx(j,{onSwipeDown:()=>{console.log("down")},onSwipeRight:()=>{console.log("right")},className:"fixed inset-0",children:r.jsx(p,{imageUrl:e.book.coverSrc,className:"fixed inset-0 flex place-items-center place-content-center text-white",children:s&&s.title})})})}export{N as default};
