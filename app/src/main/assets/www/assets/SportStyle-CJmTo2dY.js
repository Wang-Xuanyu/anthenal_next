import{j as t}from"./Cruise-aty_JPz5.js";import{r as f}from"./Home-BIuv2R_P.js";function j({onSwipeUp:e,onSwipeDown:a,onSwipeLeft:o,onSwipeRight:c,className:n,children:s,threshold:i=30}){const m=f.useRef(0),h=f.useRef(0),p=r=>{const l=r.touches[0];m.current=l.clientX,h.current=l.clientY},x=r=>{const l=r.changedTouches[0],u=l.clientX-m.current,d=l.clientY-h.current,b=Math.abs(u),g=Math.abs(d);Math.max(b,g)<i||(b>g?u>0&&c?c(r):u<0&&o&&o(r):d>0&&a?a(r):d<0&&e&&e(r))};return t.jsx("div",{className:`w-full  ${n}`,onTouchStart:p,onTouchEnd:x,children:s})}function v({imageUrl:e,overlayColor:a="rgba(0, 0, 0, 0.95)",children:o,className:c="w-full h-full"}){return t.jsxs("div",{className:` bg-cover bg-center ${c}`,style:{backgroundImage:`url(${e})`},children:[t.jsx("div",{className:"absolute inset-0",style:{backgroundColor:a}}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o})]})}function y({ctx:e}){const[a,o]=f.useState(!1),n=e.book.dialogs.find(s=>{if(e.audio.current.currentTime<=s.start[1])return!0}).id-1;return console.log({index:n}),t.jsx("div",{onClick:async()=>{if(e.audio.current.paused){e.audio.current.play();return}e.audio.current.pause()},className:"cursor-pointer",children:t.jsx(j,{onSwipeUp:s=>{e.audio.current.currentTime-=5},onSwipeDown:s=>{console.log("down")},className:"fixed inset-0",children:t.jsx(v,{imageUrl:e.book.coverSrc,className:"fixed inset-0  text-white",children:t.jsx("div",{className:"flex flex-col space-y-2 place-items-center place-content-center",children:e.book.dialogs.slice(Math.max(0,n-2),Math.min(e.book.dialogs.length-1,n+4)).map((s,i)=>t.jsx("div",{className:`${s.id==n?"underline":""} text-2xl`,children:s.title},i))})})})})}const T=Object.freeze(Object.defineProperty({__proto__:null,default:y},Symbol.toStringTag,{value:"Module"}));export{j as S,T as a};
