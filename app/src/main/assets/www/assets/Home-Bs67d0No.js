import{j as e}from"./Book-BHBIjhU_.js";import{L as n}from"./Cruise-DzVonqGh.js";function h({ctx:s}){if(s.books)return console.log({ctx:s},"home"),e.jsxs("div",{children:[e.jsxs("header",{children:[e.jsxs("div",{children:["您有",s.books.length,"部有趣资源来提升英语水平"]}),e.jsx("div",{children:"刚刚品味过的作品"}),e.jsx("div",{children:"搜索"}),e.jsx("div",{children:s.last&&s.last.map(({id:i,index:d},r)=>{const l=s.books.find(o=>o.id==i);return e.jsx(n,{href:"/sportstyle",onClick:()=>{s.book=l,s.locals.saveLast(s)},children:e.jsx("img",{src:l.coverSrc})},r)})})]}),e.jsxs("main",{children:[e.jsx("div",{children:"浏览所有资源"}),e.jsx("div",{children:s.books.map((i,d)=>e.jsxs(n,{className:"p-6 w-full flex flex-col space-y-4",onClick:()=>{(async()=>{if(i.id==s.book.id)return;s.book=i;const r=await s.db.get("audios",i.id);s.audio.current.src=URL.createObjectURL(r.blob),s.locals.saveLast(s)})()},href:"/sportstyle",children:[e.jsx("div",{children:e.jsx("img",{src:i.coverSrc})}),e.jsx("div",{children:i.title})]},d))})]})]})}export{h as default};
