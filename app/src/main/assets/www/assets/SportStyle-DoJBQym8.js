import{j as t}from"./Cruise-aty_JPz5.js";import{r as f}from"./Home-BIuv2R_P.js";function j({onSwipeUp:e,onSwipeDown:n,onSwipeLeft:o,onSwipeRight:a,className:r,children:s,threshold:l=30}){const h=f.useRef(0),m=f.useRef(0),p=i=>{const c=i.touches[0];h.current=c.clientX,m.current=c.clientY},x=i=>{const c=i.changedTouches[0],u=c.clientX-h.current,d=c.clientY-m.current,b=Math.abs(u),g=Math.abs(d);Math.max(b,g)<l||(b>g?u>0&&a?a():u<0&&o&&o():d>0&&n?n():d<0&&e&&e())};return t.jsx("div",{className:`w-full touch-none select-none ${r}`,onTouchStart:p,onTouchEnd:x,children:s})}function v({imageUrl:e,overlayColor:n="rgba(0, 0, 0, 0.95)",children:o,className:a="w-full h-full"}){return t.jsxs("div",{className:` bg-cover bg-center ${a}`,style:{backgroundImage:`url(${e})`},children:[t.jsx("div",{className:"absolute inset-0",style:{backgroundColor:n}}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o})]})}function y({ctx:e}){const[n,o]=f.useState(!1),r=e.book.dialogs.find(s=>{if(e.audio.current.currentTime<=s.start[1])return!0}).id-1;return console.log({index:r}),t.jsx("div",{onClick:async()=>{if(e.audio.current.paused){e.audio.current.play();return}e.audio.current.pause()},className:"cursor-pointer",children:t.jsx(j,{onSwipeDown:()=>{e.audio.current.currentTime-=5},onSwipeup:()=>{console.log("right")},className:"fixed inset-0 overscroll-contain",children:t.jsx(v,{imageUrl:e.book.coverSrc,className:"fixed inset-0  text-white",children:t.jsx("div",{className:"flex flex-col space-y-2 place-items-center place-content-center",children:e.book.dialogs.slice(Math.max(0,r-2),Math.min(e.book.dialogs.length-1,r+4)).map((s,l)=>t.jsx("div",{className:`${s.id==r?"underline":""} text-2xl`,children:s.title},l))})})})})}const T=Object.freeze(Object.defineProperty({__proto__:null,default:y},Symbol.toStringTag,{value:"Module"}));export{j as S,T as a};
