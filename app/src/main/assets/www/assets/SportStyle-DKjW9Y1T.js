import{j as t}from"./Cruise-aty_JPz5.js";import{r as f}from"./Home-D6XmuucS.js";function j({onSwipeUp:e,onSwipeDown:n,onSwipeLeft:a,onSwipeRight:o,className:c,children:r,threshold:i=30}){const m=f.useRef(0),h=f.useRef(0),p=s=>{const l=s.touches[0];m.current=l.clientX,h.current=l.clientY},x=s=>{const l=s.changedTouches[0],u=l.clientX-m.current,d=l.clientY-h.current,b=Math.abs(u),g=Math.abs(d);Math.max(b,g)<i||(b>g?u>0&&o?o(s):u<0&&a&&a(s):d>0&&n?n(s):d<0&&e&&e(s))};return t.jsx("div",{className:`w-full  ${c}`,onTouchStart:p,onTouchEnd:x,children:r})}function v({imageUrl:e,overlayColor:n="rgba(0, 0, 0, 0.95)",children:a,className:o="w-full h-full"}){return t.jsxs("div",{className:` bg-cover bg-center ${o}`,style:{backgroundImage:`url(${e})`},children:[t.jsx("div",{className:"absolute inset-0",style:{backgroundColor:n}}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a})]})}function y({ctx:e}){const[n,a]=f.useState(!1),c=e.book.dialogs.find(r=>{if(e.audio.current.currentTime<=r.start[1])return!0}).id;return t.jsx("div",{onClick:async()=>{if(e.audio.current.paused){e.audio.current.play();return}e.audio.current.pause()},className:"cursor-pointer",children:t.jsx(j,{onSwipeUp:r=>{e.audio.current.currentTime-=5},onSwipeDown:r=>{console.log("down")},className:"fixed inset-0",children:t.jsx(v,{imageUrl:e.book.coverSrc,className:"fixed inset-0  text-white",children:t.jsx("div",{className:"flex flex-col space-y-2 place-items-center place-content-center",children:e.book.dialogs.slice(Math.max(0,c),Math.min(e.book.dialogs.length-1,c+4)).map((r,i)=>t.jsx("div",{className:`${r.id==c-1?"underline":""} text-2xl`,children:r.title},i))})})})})}const T=Object.freeze(Object.defineProperty({__proto__:null,default:y},Symbol.toStringTag,{value:"Module"}));export{j as S,T as a};
